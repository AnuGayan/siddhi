Siddhi Complex Event Processing Engine 
======================================

---

|  Branch | Build Status |
| :------------ |:-------------
| master      | [![Build Status](https://wso2.org/jenkins/job/siddhi/badge/icon)](https://wso2.org/jenkins/job/siddhi) |
| master-java8 | [![Build Status](https://wso2.org/jenkins/job/siddhi/badge/icon)]    (https://wso2.org/jenkins/job/siddhi__java8 )|

---

##### Latest Released Version v3.0.5.
For all releases see https://github.com/wso2/siddhi/releases

Siddhi CEP is a lightweight, easy-to-use Open Source Complex Event Processing Engine (CEP) released as a Java Library under Apache Software License v2.0. Siddhi CEP processes events which are generated by various event sources, analyses them and notifies appropriate complex events according to the user specified queries.

This project was initiated as a research project at University of Moratuwa, Sri Lanka, and now being improved by WSO2 Inc.

####Documentation 
https://docs.wso2.com/display/CEP420/SiddhiQL+Guide+3.1

####Try it with [WSO2 Complex Event Processor 4.2] (http://wso2.com/products/complex-event-processor/)
https://docs.wso2.com/display/CEP420/Siddhi+Try+It+Tool


Features Supported
------------------
 - Filter
    - Multiple filter conditions can be defined 
    - Filters can be applied before and/or after Window operations
 - Join
    - Supports joining two streams into one based on a condition   
    - Match operation triggering can be configured (making "left" or "right" or both streams to trigger)
    - Supports Left, Right & Full Outer Joins and Inner Join
 - Aggregation
    - By default shipped with Avg, Sum , Min, Max, etc
    - Supports Custom Aggregations via its pluggable architecture
 - Group by
    - Supports Group by based on more than one attribute
    - Supported for all type of queries
 - Having
    - Supported for all type of queries
 - Window
    - Default implementations to Windows are: Time Window, Time Batch Window, Length Window, Unique Window, etc
    - Supports Window operators via the pluggable architecture
 - Conditions and Expressions
    - Supporting condition and expression evaluation
    - Conditions supported are: and, or, not, ==,!=, >=, >, <=, <, and arithmetic operations
    - Attributes supported are: boolean, string, int, long, float, double, object
    - Expressions can be implemented as extensions via Siddhi's pluggable architecture
 - Pattern processing
    - Identifies pattern occurrences within streams
    - Supports "every" conditions
    - Can temporally process any amount of events from streams with followed-by (->) operation
    - Can process two stream at the same time via "and" and "or" conditions
    - Can collect multiple number of events, with min and max limit, using "count" condition
 - Sequence processing
    - Identifies continuous sequence of events from streams
    - Can process two stream at the same time using "or" conditions on streams 
    - Supports zero to many, one to many, and zero to one conditions
 - Event Tables
    - Support for using historical data in realtime processing
    - Can process with the in-memory or RDBMS based data collection
 - Partitions
    - Supports query partitions based on key words and value ranges 
    - Multiple queries can be grouped within a partition
 - Scripting 
    - Support JavaScript & Scala Scripts within Siddhi Queries
 - Query Language
    - SQL like query language 
    - Implemented on Antlr4
    - Supports Query, Stream Definition and Query Plan compilation

System Requirements
-------------------

1. Minimum memory - 500 MB (based on in-memory data stored for processing)
2. Processor      - Pentium 800MHz or equivalent at minimum
3. Java SE Development Kit 1.7 or higher
4. To build Siddhi CEP from the Source distribution, it is necessary that you have
   JDK 1.7 version or later and Maven 3.0.4 or later

## Configuration

### Redis Configuration for CountAttributeAggregator

The `CountAttributeAggregator` can be configured to use Redis for distributed counting. This is useful in scaled-out deployments where multiple Siddhi instances need to share a common count. Siddhi now utilizes a shared Redis connection pool (`RedisConnectionManager`) for interactions with Redis when using `CountAttributeAggregator`, which improves efficiency and resource management compared to individual connections.

The following Java system properties are used by the `RedisConnectionManager` to configure the connection pool's target Redis server:

*   `redis.host`: The hostname or IP address of the Redis server.
    *   Default: `localhost`
*   `redis.port`: The port number of the Redis server.
    *   Default: `6379`

**Example:**

To set these properties when running your Siddhi application, you can pass them as command-line arguments to the Java Virtual Machine (JVM):

```bash
java -Dredis.host=your-redis-server -Dredis.port=6380 -jar your-siddhi-app.jar
```

Replace `your-redis-server` with the actual hostname or IP of your Redis instance and `6380` with its port if it's not the default.

If Redis is not configured (i.e., system properties are not set and it defaults to a non-running instance) or if the connection pool fails to connect, the `CountAttributeAggregator` will fall back to an in-memory counter for that specific instance. The Redis key used for storing the count is automatically generated and is unique per aggregator instance, typically following the pattern `siddhi:count:<executionPlanName>:<elementId>`.

**Connection Pool Configuration:**

The internal Redis connection pool is configured with reasonable default settings for performance and reliability (e.g., for maximum connections, idle connections, connection testing). These pool-specific settings are not typically exposed via external system properties and are managed internally. For most use cases, these defaults should suffice. If advanced tuning of the pool is required, it would involve modifying the `RedisConnectionManager` source code.

## Questions 
* Questions are welcomed & we are happy to help you integrate Siddhi to your project :)
* Post your questions on http://stackoverflow.com/ tagging ["siddhi"] (http://stackoverflow.com/search?q=siddhi)

## How to Contribute
* Please report issues at [Siddhi JIRA] (https://wso2.org/jira/browse/SIDDHI)
* Send your bug fixes pull requests to [master branch] (https://github.com/wso2/carbon-event-processing/tree/master) 

## Contact us 
Siddhi developers can be contacted via the mailing lists:
  * Carbon Developers List : dev@wso2.org
  * Carbon Architecture List : architecture@wso2.org

####We welcome your feedback and contribution.

Siddhi CEP Team


